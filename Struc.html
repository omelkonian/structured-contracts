<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Struc</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/structured-contracts/tree/master/Struc.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Prelude.html" class="Module">Prelude</a> <a id="21" class="Keyword">hiding</a> <a id="28" class="Symbol">(</a><a id="29" href="Function.Base.html#624" class="Function">id</a><a id="31" class="Symbol">;</a> <a id="33" href="Prelude.html#1996" class="Field Operator">_~ˢ_</a><a id="37" class="Symbol">;</a> <a id="39" href="Prelude.html#2021" class="Field Operator">_~ᵉ_</a><a id="43" class="Symbol">)</a>
<a id="45" class="Keyword">open</a> <a id="50" class="Keyword">import</a> <a id="57" href="UTxO.html" class="Module">UTxO</a>

<a id="63" class="Keyword">record</a> <a id="StrucSimulation"></a><a id="70" href="Struc.html#70" class="Record">StrucSimulation</a> <a id="86" href="Struc.html#86" class="Bound">S</a> <a id="88" href="Struc.html#88" class="Bound">I</a> <a id="90" class="Symbol">(</a><a id="91" href="Struc.html#91" class="Bound Operator">_⊢_—⟨_∣STRUC⟩→_</a> <a id="107" class="Symbol">:</a> <a id="109" href="Prelude.html#1305" class="Function">SSRel</a> <a id="115" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a> <a id="117" href="Struc.html#86" class="Bound">S</a> <a id="119" href="Struc.html#88" class="Bound">I</a><a id="120" class="Symbol">)</a> <a id="122" class="Symbol">:</a> <a id="124" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="129" class="Keyword">where</a>
  <a id="137" class="Keyword">field</a>
    <a id="StrucSimulation.πˢ"></a><a id="147" href="Struc.html#147" class="Field">πˢ</a> <a id="150" class="Symbol">:</a> <a id="152" href="UTxO.html#2669" class="Function">UTxO</a> <a id="157" class="Symbol">→</a> <a id="159" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="165" href="Struc.html#86" class="Bound">S</a>
    <a id="StrucSimulation.πⁱ"></a><a id="171" href="Struc.html#171" class="Field">πⁱ</a> <a id="174" class="Symbol">:</a> <a id="176" href="UTxO.html#1129" class="Record">Tx</a> <a id="179" class="Symbol">→</a> <a id="181" href="Struc.html#88" class="Bound">I</a>

  <a id="StrucSimulation._~ˢ_"></a><a id="186" href="Struc.html#186" class="Function Operator">_~ˢ_</a> <a id="191" class="Symbol">:</a> <a id="193" href="UTxO.html#2669" class="Function">UTxO</a> <a id="198" class="Symbol">→</a> <a id="200" href="Struc.html#86" class="Bound">S</a> <a id="202" class="Symbol">→</a> <a id="204" href="Agda.Primitive.html#320" class="Primitive">Type</a>
  <a id="211" href="Struc.html#211" class="Bound">utxo</a> <a id="216" href="Struc.html#186" class="Function Operator">~ˢ</a> <a id="219" href="Struc.html#219" class="Bound">s</a> <a id="221" class="Symbol">=</a> <a id="223" href="Struc.html#147" class="Field">πˢ</a> <a id="226" href="Struc.html#211" class="Bound">utxo</a> <a id="231" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="233" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="238" href="Struc.html#219" class="Bound">s</a>

  <a id="StrucSimulation._~ᵉ_"></a><a id="243" href="Struc.html#243" class="Function Operator">_~ᵉ_</a> <a id="248" class="Symbol">:</a> <a id="250" href="UTxO.html#735" class="Record">TxInfo</a> <a id="257" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="259" href="UTxO.html#1129" class="Record">Tx</a> <a id="262" class="Symbol">→</a> <a id="264" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a> <a id="266" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="268" href="Struc.html#88" class="Bound">I</a> <a id="270" class="Symbol">→</a> <a id="272" href="Agda.Primitive.html#320" class="Primitive">Type</a>
  <a id="279" href="Struc.html#243" class="Function Operator">_~ᵉ_</a> <a id="284" class="Symbol">=</a> <a id="286" class="Symbol">λ</a> <a id="288" class="Symbol">(_</a> <a id="291" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="293" href="Struc.html#293" class="Bound">tx</a><a id="295" class="Symbol">)</a> <a id="297" class="Symbol">(</a><a id="298" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a> <a id="301" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="303" href="Struc.html#303" class="Bound">i</a><a id="304" class="Symbol">)</a> <a id="306" class="Symbol">→</a> <a id="308" href="Struc.html#171" class="Field">πⁱ</a> <a id="311" href="Struc.html#293" class="Bound">tx</a> <a id="314" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="316" href="Struc.html#303" class="Bound">i</a>

  <a id="321" class="Keyword">field</a>
    <a id="StrucSimulation.simulates"></a><a id="331" href="Struc.html#331" class="Field">simulates</a> <a id="341" class="Symbol">:</a> <a id="343" class="Symbol">∀</a> <a id="345" href="Struc.html#345" class="Bound">Γ</a> <a id="347" href="Struc.html#347" class="Bound">Γ′</a> <a id="350" href="Struc.html#350" class="Bound">s</a> <a id="352" href="Struc.html#352" class="Bound">u</a> <a id="354" href="Struc.html#354" class="Bound">i</a> <a id="356" href="Struc.html#356" class="Bound">i′</a> <a id="359" href="Struc.html#359" class="Bound">s′</a> <a id="362" href="Struc.html#362" class="Bound">u′</a> <a id="365" class="Symbol">→</a>
      <a id="373" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="375" href="Struc.html#345" class="Bound">Γ</a> <a id="377" href="UTxO.html#6136" class="Datatype Operator">⊢</a> <a id="379" href="Struc.html#350" class="Bound">s</a> <a id="381" href="UTxO.html#6136" class="Datatype Operator">—⟨</a> <a id="384" href="Struc.html#354" class="Bound">i</a> <a id="386" href="UTxO.html#6136" class="Datatype Operator">∣LEDGER⟩→</a> <a id="396" href="Struc.html#359" class="Bound">s′</a>
      <a id="405" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="407" class="Symbol">(</a><a id="408" href="Struc.html#345" class="Bound">Γ</a> <a id="410" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="412" href="Struc.html#354" class="Bound">i</a><a id="413" class="Symbol">)</a> <a id="415" href="Struc.html#243" class="Function Operator">~ᵉ</a> <a id="418" class="Symbol">(</a><a id="419" href="Struc.html#347" class="Bound">Γ′</a> <a id="422" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="424" href="Struc.html#356" class="Bound">i′</a><a id="426" class="Symbol">)</a>
      <a id="434" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="436" href="Struc.html#350" class="Bound">s</a> <a id="438" href="Struc.html#186" class="Function Operator">~ˢ</a> <a id="441" href="Struc.html#352" class="Bound">u</a>
        <a id="451" href="Prelude.InferenceRules.html#13722" class="Function Operator">─────────────────────────────────</a>
        <a id="493" href="Struc.html#359" class="Bound">s′</a> <a id="496" href="Struc.html#186" class="Function Operator">~ˢ</a> <a id="499" href="Struc.html#362" class="Bound">u′</a>
      <a id="508" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="510" href="Struc.html#347" class="Bound">Γ′</a> <a id="513" href="Struc.html#91" class="Bound Operator">⊢</a> <a id="515" href="Struc.html#352" class="Bound">u</a> <a id="517" href="Struc.html#91" class="Bound Operator">—⟨</a> <a id="520" href="Struc.html#356" class="Bound">i′</a> <a id="523" href="Struc.html#91" class="Bound Operator">∣STRUC⟩→</a> <a id="532" href="Struc.html#362" class="Bound">u′</a>

  <a id="StrucSimulation.LEDGER≼STRUC"></a><a id="538" href="Struc.html#538" class="Function">LEDGER≼STRUC</a> <a id="551" class="Symbol">:</a> <a id="553" href="UTxO.html#6136" class="Datatype Operator">_⊢_—⟨_∣LEDGER⟩→_</a> <a id="570" href="Prelude.html#1922" class="Record Operator">≼′</a> <a id="573" href="Struc.html#91" class="Bound Operator">_⊢_—⟨_∣STRUC⟩→_</a>
  <a id="591" href="Struc.html#538" class="Function">LEDGER≼STRUC</a> <a id="604" class="Symbol">=</a> <a id="606" class="Keyword">record</a>
    <a id="617" class="Symbol">{</a> <a id="619" href="Prelude.html#1996" class="Field Operator">_~ˢ_</a> <a id="624" class="Symbol">=</a> <a id="626" href="Struc.html#186" class="Function Operator">_~ˢ_</a>
    <a id="635" class="Symbol">;</a> <a id="637" href="Prelude.html#2021" class="Field Operator">_~ᵉ_</a> <a id="642" class="Symbol">=</a> <a id="644" href="Struc.html#243" class="Function Operator">_~ᵉ_</a>
    <a id="653" class="Symbol">;</a> <a id="655" href="Prelude.html#2059" class="Field">implements′</a> <a id="667" class="Symbol">=</a> <a id="669" href="Struc.html#331" class="Field">simulates</a>
    <a id="683" class="Symbol">}</a>
</pre></body></html>